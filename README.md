Below is a **README.md** for the Playwright + TypeScript + Electron Insomnia E2E automation project.
Please be noted: the test execution still has issues since the locators might need to be adjusted (generated by tools)
It includes:

âœ” Installation (Windows-ready)
âœ” How to run tests
âœ” Project structure
âœ” CI instructions
âœ” Test methodology (Equivalence Partitioning + others)
âœ” Additional tests (POST/PUT/DELETE, Mock Server, Environments)
âœ” Troubleshooting
âœ” Reporting

---

# ğŸ“˜ **Insomnia E2E Test Automation (Playwright + TypeScript + Electron)**

This project provides a full **End-to-End (E2E)** automation framework for **Insomnia**, using:

* **Playwright** for UI automation
* **Electron automation** to launch the Insomnia app
* **TypeScript** for strong typing
* **Test design methods** such as Equivalence Partitioning, BVA, State Transition, etc.
* **Functional + Non-functional tests**
* **Windows-friendly execution**
* Optional **CI (GitHub Actions)** + **HTML reporting**

---

## ğŸš€ **1. Features**

âœ” Automates Insomniaâ€™s **main workflow**:

* Create Request
* Configure URL / method
* Send Request
* Validate Response

âœ” Covers multiple request methods:

* GET
* POST
* PUT
* DELETE

âœ” Supports Insomnia advanced features:

* **Environment variables**
* **Mock Servers**
* **Request history validation**
* **Error validation**

âœ” Test design methods included:

* **Equivalence Partitioning** (URL input validity)
* **Boundary Value Analysis** (URL length / payload size)
* **State Transition Testing** (Create â†’ Edit â†’ Send â†’ History)
* **Decision Table** (method Ã— environment Ã— URL validity)

âœ” Functional + non-functional test types:

* Unit-like UI checks
* Integration (mock server + environment)
* System test (full request workflow)
* Acceptance test (real-user scenario)
* Usability + compatibility checks

---

## ğŸ“¦ **2. Project Structure**

```
insomnia-e2e-playwright/
â”‚ package.json
â”‚ playwright.config.ts
â”‚ tsconfig.json
â”‚ README.md
â”‚
â””â”€â”€ tests/
    â”‚ insomnia-main-workflow.spec.ts
    â”‚ equivalence-partitioning-url.spec.ts
    â”‚ environment-tests.spec.ts
    â”‚ mock-server-tests.spec.ts
    â”‚ api-method-tests.spec.ts
    â”‚
    â””â”€â”€ helpers/
        electron-launch.ts
        insomnia-locators.ts
```

---

## ğŸ§° **3. Installation (Windows)**

### **Prerequisites**

Install:

* Node.js â‰¥ 18
* Git
* Windows PowerShell or CMD

### **Install dependencies**

```bash
npm install
```

### **Install Playwright browsers (required even for Electron)**

```bash
npx playwright install
```

---

## â–¶ï¸ **4. Running the Tests**

### **Run all tests**

```bash
npx playwright test
```

### **Run a specific test**

```bash
npx playwright test tests/equivalence-partitioning-url.spec.ts
```

### **Run with UI**

```bash
npx playwright test --ui
```

---

## ğŸ“Š **5. View Test Reports**

### After test execution:

```bash
npx playwright show-report
```

Reports are generated at:

```
playwright-report/
```

Supports:

* HTML report
* Trace viewer
* Video recording (optional)

---

## ğŸ§ª **6. Included Test Cases**

### ğŸ”¹ **1. Main Workflow Test**

`insomnia-main-workflow.spec.ts`

* Create new request
* Set URL
* Set method
* Send request
* Validate response status/body/headers
* Validate history entry

---

### ğŸ”¹ **2. Equivalence Partitioning URL Test**

`equivalence-partitioning-url.spec.ts`

Partitions:

**Valid:**

* HTTP URL
* HTTPS URL
* localhost
* JSON endpoints

**Invalid:**

* Empty
* Malformed
* Unsupported protocols
* Whitespace-only

Additional assertions:

* Send button enabled/disabled
* Error banner visible
* No response panel for invalid URL
* History not created

---

### ğŸ”¹ **3. Environment Variable Test**

`environment-tests.spec.ts`

* Create environment
* Inject variables
* Validate substitution
* Send request using environment

---

### ğŸ”¹ **4. Mock Server Test**

`mock-server-tests.spec.ts`

* Start mock server
* Create mock route
* Validate mock response
* Validate headers & latency

---

### ğŸ”¹ **5. POST / PUT / DELETE Tests**

`api-method-tests.spec.ts`

* POST: Send JSON payload
* PUT: Update payload
* DELETE: Validate removal
* Assert response codes & bodies

---

## ğŸ§© **7. CI Integration (GitHub Actions)**

Create `.github/workflows/playwright.yml`:

```yaml
name: Insomnia E2E Tests

on:
  push:
  pull_request:

jobs:
  test:
    runs-on: windows-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install Node
        uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Install dependencies
        run: npm install

      - name: Install Playwright browsers
        run: npx playwright install --with-deps

      - name: Run Playwright tests
        run: npx playwright test

      - name: Upload test report
        uses: actions/upload-artifact@v4
        with:
          name: playwright-report
          path: playwright-report/
```

---

## ğŸ”§ **8. Troubleshooting**

### â— **Playwright Error: â€œNo tests foundâ€**

Check:

* Folder is named `tests`
* File ends with `.spec.ts`
* No syntax errors
* Playwright installed

### â— Electron app fails to launch

* Ensure Insomnia is installed in default path
* Adjust path in `electron-launch.ts`

### â— Locators not found

Insomnia updates DOM frequently â†’ adjust locators in:

```
insomnia-locators.ts
```

---

## â­ **9. Recommended Future Enhancements**

* Data-driven testing for URLs and payloads
* Contract testing using Insomnia design documents
* Load testing via Inso CLI
* Parallel mock server orchestration
* Test coverage reporting (NYC + LCOV)
